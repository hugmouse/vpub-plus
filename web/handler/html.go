// Code generated by go generate; DO NOT EDIT.

package handler

var TplMap = map[string]string{
	"account": `{{ define "title" }}Account{{ end }}

{{ define "content" }}
    <h1>Account</h1>
    <p>This is where you can customize your account details and preferences.</p>

    <h2>Preview</h2>
    <p>This is what your forum post will look like.</p>
    <table class="topic">
        <thead>
        <tr>
            <th>Author</th>
            <th>Topic</th>
        </tr>
        </thead>
        <tbody>

        <tr id="2">
            <td class="col-author">
                <a href="/users/1">{{ .logged.Name }}</a>
                <p>
                    {{ if .logged.Picture }}
                        <img alt="{{ .logged.PictureAlt }}" src="{{ proxyURL .logged.Picture }}" width="80" height="80"
                             style="object-fit: contain;"/>
                    {{ else }}
                        <svg class="not-selectable" width="80" height="80" xmlns="http://www.w3.org/2000/svg"
                             aria-hidden="true">
                            <rect width="80" height="80" fill="rgba(0, 0, 0, 40%)"/>
                            <text x="40" y="40" font-size="30" font-family="Sans-Serif" font-weight="bold"
                                  fill="#ffffff"
                                  text-anchor="middle"
                                  dominant-baseline="middle">{{ printf "%c" (index .logged.Name 0) }}
                            </text>
                        </svg>
                    {{ end }}
                </p>
            </td>
            <td>
                <div class="posted">
                    <span>Posted on <time datetime="{{ iso8601Time now }}" id="preview-time">{{ iso8601Time now }}</time></span>
                    <a href="#">edit</a> <a href="#">remove</a>
                    <hr>
                </div>
                <div>
                    <p>
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque consequat ante sodales ligula
                        laoreet suscipit. Nulla luctus elit at massa dignissim, a tristique libero pretium. Pellentesque
                        habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Curabitur
                        molestie eget enim sed congue.
                    </p>
                    <p>
                        Integer porta bibendum ex, eu viverra felis mattis vitae. Nullam imperdiet quis mi eu lobortis.
                        Phasellus elit lectus, consectetur aliquet erat a, finibus pellentesque dolor. Sed sagittis
                        mattis aliquam.
                    </p>
                </div>
                {{ if .form.About }}
                    <div class="signature">
                        {{ sig .form.About }}
                    </div>
                {{ end }}
            </td>
        </tr>
        </tbody>
    </table>

    <h2>Settings</h2>
    <form action="/update-account" method="post">
        {{ .csrfField }}
        <div class="field">
            <label for="picture">Picture URL</label>
            <input type="url" name="picture" id="picture" value="{{ .form.Picture }}">
        </div>
        <div class="field">
            <label for="picture-alt">Picture alt text</label>
            <input type="text" name="picture-alt" id="picture-alt" value="{{ .form.PictureAlt }}">
        </div>
        <div class="field">
            <label for="about">About</label>
            <textarea name="about" id="about" autofocus>{{ .form.About }}</textarea>
        </div>
        <input type="submit" value="Submit">
    </form>
    </section>
{{ end }}
`,
	"admin": `{{ define "breadcrumb" }} > Admin{{ end }}
{{ define "content"}}
    <h1>Admin</h1>
    <nav>
        <ul>
            <li><a href="/admin/settings/edit">Edit settings</a></li>
            <li><a href="/admin/keys">Manage keys</a></li>
            <li><a href="/admin/boards">Manage boards</a></li>
            <li><a href="/admin/forums">Manage forums</a></li>
            <li><a href="/admin/users">Manage users</a></li>
            <li><a href="/admin/image-proxy">Manage image cache</a></li>
        </ul>
    </nav>
{{ end }}`,
	"admin_board": `{{ define "content"}}
    <nav class="breadcrumb">
        <ul>
            <li>
                <a href="/admin">Admin</a>
                <ul>
                    <li>
                        Boards
                    </li>
                </ul>
            </li>
        </ul>
    </nav>
    <h1>Boards</h1>
    <p>
        {{ if .hasForums }}
            <a href="/admin/boards/new">New board</a>
        {{ else }}
            <a href="/admin/forums">Create a forum</a> to create boards
        {{ end }}
    </p>
    <table>
        <thead>
        <tr>
            <th class="grow">Board</th>
            <th>Edit</th>
            <th>Delete</th>
        </tr>
        </thead>
        <tbody>
        {{ if .forums }}
            {{ range .forums }}
                <tr class="forum">
                    <td colspan="4">{{ .Name }}</td>
                </tr>
                {{ range .Boards }}
                    <tr>
                        <td>
                            <a href="/boards/{{ .ID }}">{{ .Name }}</a><br>{{ .Description }}
                        </td>
                        <td class="center"><a href="/admin/boards/{{ .ID }}/edit">Edit</a></td>
                        <td class="center"><a href="/admin/boards/{{ .ID }}/remove">Delete</a></td>
                    </tr>
                {{ end }}
            {{ end }}
        {{ else }}
            <tr>
                <td colspan="2">No boards yet.</td>
            </tr>
        {{ end }}
        </tbody>
    </table>
{{ end }}`,
	"admin_board_create": `{{ define "title" }}New board{{ end }}
{{ define "content" }}
    <nav class="breadcrumb">
        <ul>
            <li>
                <a href="/admin">Admin</a>
                <ul>
                    <li>
                        <a href="/admin/boards">Boards</a>
                        <ul>
                            <li>Create board</li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    </nav>
    <h1>Create board</h1>
    {{ if .errorMessage }}
        <p class="errors">{{ .errorMessage }}</p>
    {{ end }}
    <form action="/admin/boards/save" method="post">
        {{ .csrfField }}
        {{ template "board_form" .form }}
        <input type="submit" value="Submit">
    </form>
{{ end }}
`,
	"admin_board_edit": `{{ define "title" }}Edit board{{ end }}
{{ define "content" }}
    <nav class="breadcrumb">
        <ul>
            <li>
                <a href="{{ .root }}/admin">Admin</a>
                <ul>
                    <li>
                        <a href="/admin/boards">Boards</a>
                        <ul>
                            <li>Edit board</li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    </nav>
    <h1>Edit board</h1>
    {{ if .errorMessage }}
        <p class="errors">{{ .errorMessage }}</p>
    {{ end }}
    <form action="/admin/boards/{{ .board.ID }}/update" method="post">
        {{ .csrfField }}
        {{ template "board_form" .form }}
        <input type="submit" value="Submit">
    </form>
{{ end }}
`,
	"admin_board_remove": `{{ define "content" }}

    {{ if .errorMessage }}
        <p class="errors">{{ .errorMessage }}</p>
    {{ end }}

    Are you sure you want to delete the following board?
    <p>{{ .board.Name }}</p>
    <form action="/admin/boards/{{ .board.ID }}/remove" method="post">
        {{ .csrfField }}
        <input type="submit" value="Submit">
    </form>
{{ end }}`,
	"admin_forum": `{{ define "content"}}
    <nav class="breadcrumb">
        <ul>
            <li>
                <a href="/admin">Admin</a>
                <ul>
                    <li>
                        Forums
                    </li>
                </ul>
            </li>
        </ul>
    </nav>
    <h1>Forums</h1>
    <p><a href="/admin/forums/new">New forum</a></p>
    <table>
        <thead>
        <tr>
            <th class="grow">Forum</th>
            <th>Edit</th>
            <th>Delete</th>
        </tr>
        </thead>
        <tbody>
        {{ if .forums }}
            {{ range .forums }}
                <tr>
                    <td>
                        {{ .Name }}
                    </td>
                    <td class="center"><a href="/admin/forums/{{ .ID }}/edit">Edit</a></td>
                    <td class="center"><a href="/admin/forums/{{ .ID }}/remove">Delete</a></td>
                </tr>
            {{ end }}
        {{ else }}
            <tr>
                <td colspan="2">No forums yet.</td>
            </tr>
        {{ end }}
        </tbody>
    </table>
{{ end }}`,
	"admin_forum_create": `{{ define "title" }}New forum{{ end }}
{{ define "content" }}
    <nav class="breadcrumb">
        <ul>
            <li>
                <a href="/admin">Admin</a>
                <ul>
                    <li>
                        <a href="/admin/forums">Forums</a>
                        <ul>
                            <li>Create forum</li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    </nav>
    <h1>Create forum</h1>
    {{ if .errorMessage }}
        <p class="errors">{{ .errorMessage }}</p>
    {{ end }}
    <form action="/admin/forums/save" method="post">
        {{ .csrfField }}
        {{ template "forum_form" .form }}
        <input type="submit" value="Submit">
    </form>
{{ end }}
`,
	"admin_forum_edit": `{{ define "title" }}Edit forum{{ end }}
{{ define "content" }}
    <nav class="breadcrumb">
        <ul>
            <li>
                <a href="/admin">Admin</a>
                <ul>
                    <li>
                        <a href="/admin/forums">Forums</a>
                        <ul>
                            <li>Edit forum</li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    </nav>
    <h1>Edit forum</h1>
    {{ if .errorMessage }}
        <p class="errors">{{ .errorMessage }}</p>
    {{ end }}
    <form action="/admin/forums/{{ .forum.ID }}/update" method="post">
        {{ .csrfField }}
        {{ template "forum_form" .form }}
        <input type="submit" value="Submit">
    </form>
{{ end }}
`,
	"admin_forum_remove": `{{ define "content" }}

    {{ if .errorMessage }}
        <p class="errors">{{ .errorMessage }}</p>
    {{ end }}

    Are you sure you want to delete the following forum?
    <p>{{ .forum.Name }}</p>
    <form action="/admin/forums/{{ .forum.ID }}/remove" method="post">
        {{ .csrfField }}
        <input type="submit" value="Submit">
    </form>
{{ end }}`,
	"admin_image_cache": `{{ define "admin_image_cache" }}
{{ template "layout" . }}
{{ end }}

{{ define "content" }}
    <nav class="breadcrumb">
        <ul>
            <li>
                <a href="/admin">Admin</a>
                <ul>
                    <li>
                        Image cache
                    </li>
                </ul>
            </li>
        </ul>
    </nav>

<h1>Image Proxy Cache</h1>

<form action="/admin/image-proxy/remove" method="post" style="margin-bottom: 2rem;">
    {{ .csrfField }}
    <input type="hidden" name="action" value="all">
    <button type="submit" class="button danger">Clear All Cache</button>
    <a href="/admin/settings/edit" class="button">Edit Settings</a>
</form>

<table class="table">
    <thead>
    <tr>
        <th>URL</th>
        <th>Size</th>
        <th>Type</th>
        <th>Expires</th>
        <th>Action</th>
    </tr>
    </thead>
    <tbody>
    {{ range .images }}
    <tr>
        <td title="{{ .URL }}" style="max-width: 300px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">
            <img src="{{ .URL }}" alt="{{ .URL }}" style="max-height: 100px;">
        </td>
        <td>{{ humanizeBytes .Size }}</td>
        <td>{{ .ContentType }}</td>
        <td>{{ .ExpiresAt.Format "2006-01-02 15:04:05" }}</td>
        <td>
            <form action="/admin/image-proxy/remove" method="post" style="display:inline;">
                {{ $.csrfField }}
                <input type="hidden" name="url" value="{{ .URL }}">
                <button type="submit" class="button-small danger">Remove</button>
            </form>
        </td>
    </tr>
    {{ else }}
    <tr>
        <td colspan="5">No images in cache.</td>
    </tr>
    {{ end }}
    </tbody>
</table>
{{ end }}
`,
	"admin_keys": `{{ define "title" }}Keys{{ end }}
{{ define "content" }}
    <nav class="breadcrumb">
        <ul>
            <li>
                <a href="/admin">Admin</a>
                <ul>
                    <li>
                        Keys
                    </li>
                </ul>
            </li>
        </ul>
    </nav>
    <h1>Keys</h1>
    <form action="/admin/keys/save" method="post" class="action">
        {{ .csrfField }}
        <input type="submit" value="Create key">
    </form>

    <table>
        <thead>
        <tr>
            <th class="grow">Key</th>
            <th>Created</th>
            <th>Delete</th>
        </tr>
        </thead>
        <tbody>
        {{ range .keys }}
            <tr>
                <td>{{ .Key }}</td>
                <td class="center">{{ iso8601 .CreatedAt }}</td>
                <td class="center"><a href="/admin/keys/{{ .ID }}/remove">Delete</a></td>
            </tr>
        {{ end }}
        </tbody>
    </table>
{{ end }}
`,
	"admin_settings_edit": `{{ define "breadcrumb" }} > <a href="/admin">Admin</a> > Settings{{ end }}
{{ define "content"}}
    <nav class="breadcrumb">
        <ul>
            <li>
                <a href="/admin">Admin</a>
                <ul>
                    <li>
                        Edit Settings
                    </li>
                </ul>
            </li>
        </ul>
    </nav>
    <h1>Edit Settings</h1>
    <form action="/admin/settings/update" method="post">
        {{ .csrfField }}
        <div class="field">
            <label for="name">Name</label>
            <input type="text" name="name" id="name" value="{{ .form.Name }}" autocomplete="off" maxlength="120"
                   autofocus aria-describedby="name-desc"/>
            <p id="name-desc">Name for your instance. It will be displayed in tab's title and also at the main page as a big title.</p>
        </div>
        <div class="field">
            <label for="url">URL</label>
            <input type="url" name="url" id="url" value="{{ .form.URL }}" autocomplete="off" aria-describedby="url-desc"/>
            <p id="url-desc">Absolute URL for your instance.</p>
        </div>
        <div class="field">
            <label for="lang">Site language</label>
            <input type="text" name="lang" id="lang" value="{{ .form.Lang }}" autocomplete="off" aria-describedby="site-language-description"/>
            <p id="site-language-description">
                Provide the
                <a href="https://en.wikipedia.org/wiki/IETF_language_tag" target="_blank">IETF BCP 47 language tag</a>.
            </p>
            <script>
                // Script provides strings with languages from your system
                // that are BCP 47 compliant
                let span = document.createElement("span");

                // Wrap each language string in a <code> node
                let languages = navigator.languages.map(lang => {
                    let codeNode = document.createElement("code");
                    codeNode.textContent = lang;
                    return codeNode.outerHTML; // Convert element to string for joining
                }).join(", ");

                // Create text node with formatted languages
                let node = document.createTextNode("Like: ");
                span.innerHTML = node.textContent + languages + ".";

                document.getElementById('site-language-description').appendChild(span);
            </script>
        </div>
        <div class="field">
            <label for="footer">Footer</label>
            <textarea class="editor" name="footer" id="footer" aria-describedby="footer-desc">{{ .form.Footer }}</textarea>
            <p id="footer-desc">This section will be displayed at the bottom of every page. You can use <code>HTML</code> in here.</p>
        </div>
        <div class="field">
            <label for="css">CSS</label>
            <textarea class="editor" name="css" id="css" aria-describedby="css-desc">{{ .form.CSS }}</textarea>
            <p id="css-desc">Custom styles for your instance.</p>
        </div>
        <div class="field">
            <label for="per-page">Per page</label>
            <input type="number" name="per-page" id="per-page" value="{{ .form.PerPage }}" autocomplete="off" required aria-describedby="perpage-desc"/>
            <p id="perpage-desc">Limits amount of boards sent to a client at once and adds pagination if needed.</p>
        </div>
        <div class="field">
            <label for="rendering-engine">Rendering engine</label>
            <select name="rendering-engine" id="rendering-engine">
                <option value="" disabled>--Please choose an option--</option>
                {{/* For some reason I have to utilize variable here, otherwise doesn't want to work inside range loop below */}}
                {{ $currentEngine := .form.SelectedRenderEngine }}
                {{ range $index, $engine := .engines }}
                    <option value="{{$engine}}" {{ if eq $engine $currentEngine }} selected {{ end }}>{{$engine}}</option>
                {{ end }}
            </select>
        </div>
        <div style="display: flex; flex-direction: row; gap: 0.5rem;">
            <div class="field">
                <label for="image-proxy-cache-time">Image Proxy Cache Time (seconds)</label>
                <input type="number" name="image-proxy-cache-time" id="image-proxy-cache-time" value="{{ .form.ImageProxyCacheTime }}" autocomplete="off" aria-describedby="cache-time-desc"/>
                <p id="cache-time-desc">Duration in seconds to cache external images.</p>
            </div>
            <div class="field">
                <label for="image-proxy-size-limit">Image Proxy Size Limit (bytes)</label>
                <input type="number" name="image-proxy-size-limit" id="image-proxy-size-limit" value="{{ .form.ImageProxySizeLimit }}" autocomplete="off" aria-describedby="size-limit-desc"/>
                <p id="size-limit-desc">Maximum size of an image in bytes to be cached and served (e.g. 524288 for 512KB).</p>
            </div>
        </div>
        <input type="submit" value="Submit">
    </form>
    </table>
{{ end }}`,
	"admin_user": `{{ define "content"}}
    <nav class="breadcrumb">
        <ul>
            <li>
                <a href="/admin">Admin</a>
                <ul>
                    <li>Users</li>
                </ul>
            </li>
        </ul>
    </nav>
    <h1>Users</h1>
    <table>
        <thead>
        <tr>
            <th class="grow">User</th>
            <th>Edit</th>
            <th>Password</th>
            <th>Delete</th>
        </tr>
        </thead>
        <tbody>
        {{ range .users }}
            <tr>
                <td>{{ .Name }}</td>
                <td class="center"><a href="/admin/users/{{ .ID }}/edit">Edit</a></td>
                <td class="center"><a href="/reset-password?hash={{ .Hash }}">Reset</a></td>
                <td class="center"><a href="/admin/users/{{ .ID }}/remove">Delete</a></td>
            </tr>
        {{ end }}
        </tbody>
    </table>
{{ end }}`,
	"admin_user_edit": `{{ define "title" }}Edit user{{ end }}
{{ define "content" }}
    <nav class="breadcrumb">
        <ul>
            <li>
                <a href="/admin">Admin</a>
                <ul>
                    <li>
                        <a href="/admin/users">Users</a>
                        <ul>
                            <li>Edit users</li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    </nav>
    <h1>Edit user</h1>
    <form action="/admin/users/{{ .user.ID }}/update" method="post">
        {{ .csrfField }}
        <div class="field">
            <label for="name">Name</label>
            <input type="text" name="name" id="name" value="{{ .form.Username }}" autocomplete="off" maxlength="120"
                   required autofocus/>
        </div>
        <div class="field">
            <label for="picture">Picture</label>
            <input type="text" name="picture" id="picture" value="{{ .form.Picture }}" autocomplete="off"/>
        </div>
        <div class="field">
            <label for="about">About</label>
            <textarea class="editor" name="about" id="about">{{ .form.About }}</textarea>
        </div>
        <input type="submit" value="Submit">
    </form>
{{ end }}
`,
	"admin_user_remove": `{{ define "content" }}

    {{ if .errorMessage }}
        <p class="errors">{{ .errorMessage }}</p>
    {{ end }}

    Are you sure you want to delete the following user?
    <p>{{ .user.Name }}</p>
    <form action="/admin/users/{{ .user.ID }}/remove" method="post">
        {{ .csrfField }}
        <input type="submit" value="Submit">
    </form>
{{ end }}`,
	"board": `{{ define "head" }}
    <link type="application/atom+xml" rel="alternate"
          href="{{ .settings.URL}}boards/{{ .board.ID }}/feed.atom"/>
{{ end }}
{{ define "content" }}
    {{ template "forum_nav" .navigation }}
    <h1>{{ .board.Name }}</h1>
    {{ if logged }}
        {{ if .board.Forum.IsLocked }}
            <p>This forum is locked.</p>
        {{ end }}
        {{ if .board.IsLocked }}
            <p>This board is locked.</p>
        {{ end }}
        {{ if or (and (not .board.IsLocked) (not .board.Forum.IsLocked)) .logged.IsAdmin }}
            <form action="/boards/{{ .board.ID }}/new-topic" method="get" class="action">
                {{ .csrfField }}
                <input type="submit" value="New topic">
            </form>
        {{ end }}
    {{ end }}

    <section>
        <table>
            <thead>
            <tr>
                <th class="grow">Subject</th>
                <th>Author</th>
                <th>Replies</th>
                <th>Updated</th>
            </tr>
            </thead>
            <tbody>
            {{ if .topics }}
                {{ range .topics }}
                    <tr>
                        <td>
                            {{ if .IsSticky }}<span class="sticky">[Sticky]</span>{{ end }}
                            <a href="/topics/{{ .ID }}">{{ .Post.Subject }}</a>
                        </td>
                        <td class="center"><a href="/users/{{ .Post.User.ID }}">{{ .Post.User.Name }}</a></td>
                        <td class="center">{{ dec .Posts }}</td>
                        <td><a href="/topics/{{ .ID }}/newest">{{ iso8601 .UpdatedAt }}</a></td>
                    </tr>
                {{ end }}
            {{ else }}
                <tr>
                    <td colspan="4">No topics yet.</td>
                </tr>
            {{ end }}
            </tbody>
        </table>
        {{ template "pagination" .pagination }}
    </section>
{{ end }}
`,
	"boards": `{{ define "content"}}
    {{ template "forum_nav" .navigation }}
    <h1>{{ .forum.Name }}</h1>
    {{ if .forum.IsLocked }}
        <p>This forum is locked.</p>
    {{ end }}
    <table>
        <thead>
        <tr>
            <th class="grow">Board</th>
            <th>Topics</th>
            <th>Posts</th>
            <th>Updated</th>
        </tr>
        </thead>
        <tbody>
        {{ if .boards }}
            {{ range .boards }}
                <tr>
                    <td>
                        <a href="/boards/{{ .ID }}">{{ .Name }}</a><br>{{ .Description }}
                    </td>
                    <td class="center">{{ .Topics }}</td>
                    <td class="center">{{ .Posts }}</td>
                    <td class="center"><a href="/boards/{{ .ID }}/newest">{{ iso8601 .UpdatedAt }}</a></td>
                </tr>
            {{ end }}
        {{ else }}
            <tr>
                <td colspan="4">No boards yet.</td>
            </tr>
        {{ end }}
        </tbody>
    </table>
{{ end }}`,
	"confirm_remove_post": `{{ define "content" }}
    {{ if .errorMessage }}
        <p class="errors">{{ .errorMessage }}</p>
    {{ end }}

    Are you sure you want to delete the following post?
    <p>{{ syntax .post.Content }}</p>
    <form action="/posts/{{ .post.ID }}/remove" method="post">
        {{ .csrfField }}
        <input type="submit" value="Submit">
    </form>
{{ end }}`,
	"create_post": `{{ define "title" }}Create Post{{ end }}
{{ define "content" }}
    <nav class="breadcrumb">
        <ul>
            <li>
                <a href="/">All forums</a>
                <ul>
                    <li>
                        <a href="/forums/{{ .board.Forum.ID }}">{{ .board.Forum.Name }}</a>
                        <ul>
                            <li>
                                <a href="/boards/{{ .board.ID }}">{{ .board.Name }}</a>
                                <ul>
                                    <li>{{ .topic.Post.Subject }}</li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    </nav>

    <h1>Create Post</h1>

    {{ if .errorMessage }}
        <p class="errors">{{ .errorMessage }}</p>
    {{ end }}

    <form action="/posts/save" method="post">
        {{ .csrfField }}
        {{ template "post_form" .form }}
        <input type="submit" value="Reply">
    </form>
{{ end }}
`,
	"create_topic": `{{ define "title" }}New topic{{ end }}
{{ define "content" }}
    {{ template "forum_nav" .navigation }}
    <h1>New topic</h1>
    {{ if .errorMessage }}
        <p class="errors">{{ .errorMessage }}</p>
    {{ end }}
    <form action="/boards/{{ .board.ID }}/save-topic" method="post">
        {{ .csrfField }}
        <input type="hidden" name="boardId" value="{{ .form.BoardID }}">
        {{ template "post_form" .form.PostForm }}
        {{ if .logged.IsAdmin }}
            {{ template "topic_form" .form }}
        {{ end }}
        <input type="submit" value="Submit">
    </form>
{{ end }}
`,
	"edit_post": `{{ define "title" }}Edit Post{{ end }}
{{ define "content" }}
    {{ template "forum_nav" .navigation }}

    <h1>Edit Post</h1>

    {{ if .errorMessage }}
        <p class="errors">{{ .errorMessage }}</p>
    {{ end }}

    <form action="/posts/{{ .post.ID }}/update" method="post">
        {{ .csrfField }}
        {{ template "post_form" .form }}
        <input type="submit" value="Submit">
    </form>
{{ end }}
`,
	"edit_topic": `{{ define "title" }}Edit topic{{ end }}
{{ define "content" }}
    <h1>Edit topic</h1>
    {{ if .errorMessage }}
        <p class="errors">{{ .errorMessage }}</p>
    {{ end }}
    <form action="/topics/{{ .form.ID }}/update" method="post">
        {{ .csrfField }}
        <input type="hidden" name="boardId" value="{{ .form.BoardID }}">
        {{ template "post_form" .form.PostForm }}
        {{ if .logged.IsAdmin }}
            {{ template "topic_form" .form }}
        {{ end }}
        <input type="submit" value="Submit">
    </form>
{{ end }}
`,
	"index": `{{ define "content"}}
    {{ if .settings.Name }}
        <h1>{{ .settings.Name }}</h1>
    {{ else }}
        <h1>Forums</h1>
    {{ end }}
    <table>
        <thead>
        <tr>
            <th class="grow">Forum</th>
            <th>Topics</th>
            <th>Posts</th>
            <th>Updated</th>
        </tr>
        </thead>
        <tbody>
        {{ if .forums }}
            {{ range .forums }}
                <tr class="forum">
                    <td colspan="4"><a href="/forums/{{ .ID }}">{{ .Name }}</a></td>
                </tr>
                {{ range .Boards }}
                    <tr>
                        <td>
                            <a href="/boards/{{ .ID }}">{{ .Name }}</a><br>{{ .Description }}
                        </td>
                        <td class="center">{{ .Topics }}</td>
                        <td class="center">{{ .Posts }}</td>
                        <td class="center">
                            {{ if .Topics }}
                                <a href="/boards/{{ .ID }}/newest">{{ iso8601 .UpdatedAt }}</a>
                            {{ else }}
                                {{ iso8601 .UpdatedAt }}
                            {{ end }}
                        </td>
                    </tr>
                {{ end }}
            {{ end }}
        {{ else }}
            <tr>
                <td colspan="4">No forums yet.</td>
            </tr>
        {{ end }}
        </tbody>
    </table>
{{ end }}`,
	"login": `{{ define "title" }}Login{{ end }}

{{ define "content" }}
    <h1>Login</h1>
    {{ if .errorMessage }}
        <p class="errors">{{ .errorMessage }}</p>
    {{ end }}
    <form action="/login" method="post" class="auth-form">
        {{ .csrfField }}
        <div class="field">
            <label for="name">Username</label>
            <input type="text" name="name" id="name" autocomplete="off" required/>
        </div>
        <div class="field">
            <label for="password">Password</label>
            <input type="password" name="password" id="password" required/>
        </div>
        <input type="submit" value="Login">
    </form>
{{ end }}`,
	"posts": `{{ define "content" }}
    <h1>Posts</h1>

    <section>
        <table>
            <thead>
            <tr>
                <th class="grow">Subject</th>
                <th>Author</th>
                <th>Posted</th>
            </tr>
            </thead>
            <tbody>
            {{ if .posts }}
                {{ range .posts }}
                    <tr>
                        <td><a href="/topics/{{ .TopicID }}#{{ .ID }}">{{ .Subject }}</a></td>
                        <td class="center"><a href="/users/{{ .User.ID }}">{{ .User.Name }}</a></td>
                        <td class="center">{{ iso8601 .CreatedAt }}</td>
                    </tr>
                {{ end }}
            {{ else }}
                <tr>
                    <td colspan="4">No posts yet.</td>
                </tr>
            {{ end }}
            </tbody>
        </table>
        {{ template "pagination" .pagination }}
    </section>
{{ end }}`,
	"register": `{{ define "title" }}Register{{ end }}

{{ define "content" }}
    <h1>Register</h1>
    {{ if .errorMessage }}
        <p class="errors">{{ .errorMessage }}</p>
    {{ end }}
    <form action="/register" method="post" class="auth-form">
        {{ .csrfField }}
        <div class="field">
            <label for="name">Username</label>
            <input type="text" id="name" name="name" autocomplete="off" value="{{ .form.Username }}" maxlength="15"
                   required/>
        </div>
        <div class="field">
            <label for="password">Password</label>
            <input type="password" id="password" name="password" required/>
        </div>
        <div class="field">
            <label for="confirm">Confirm password</label>
            <input type="password" id="confirm" name="confirm" required/>
        </div>
        <div class="field">
            <label for="key">Key</label>
            <input type="text" id="key" name="key" required/>
        </div>
        <input type="submit" value="Submit">
    </form>
{{ end }}
`,
	"reset_password": `{{ define "title" }}Reset password{{ end }}

{{ define "content" }}
    <h1>Reset password</h1>
    {{ if .error }}
        <p class="error">{{ .error }}</p>
    {{ end }}
    <form action="/reset-password" method="post" class="auth-form">
        {{ .csrfField }}
        <input name="hash" type="hidden" value="{{ .hash }}">
        <div class="field">
            <label for="password">New password</label>
            <input type="password" id="password" name="password"/>
        </div>
        <div class="field">
            <label for="confirm">Confirm password</label>
            <input type="password" id="confirm" name="confirm" required/>
        </div>
        <input type="submit" value="Submit">
    </form>
{{ end }}`,
	"search": `{{ define "title" }} Search {{ end }}

{{ define "content" }}
    <h2>Search</h2>

    {{ if .q }}
        <p>{{ len .sql }} results found.</p>
        {{ else }}
        <p>Enter your search query down below.</p>
    {{ end }}

    <form action="/search" method="get" class="search-form">
            <label for="q" style="display: none">Search</label>
            <input type="text" value="{{ .q }}" name="q" id="q" placeholder="...">
            <button type="submit">search</button>
    </form>

    {{ if .sql }}
        {{ range $index, $element := .sql }}
            <div class="search-result">
                <span>[{{ $element.OriginTable }}]</span>
                <a href="/{{ tableNameToRoute $element.OriginTable }}/{{ $element.ID }}">{{ unsafeHtml $element.HighlightedTitle }}</a>
                {{ if ne $element.HighlightedContent "" }}
                    <div class="content">
                        {{ unsafeRender $element.HighlightedContent }}...
                    </div>
                {{ end }}
            </div>
        {{ end }}
    {{ end }}
{{ end }}`,
	"topic": `{{ define "head" }}
    <link type="application/atom+xml" rel="alternate" href="{{ .settings.URL}}topics/{{ .topic.ID }}/feed.atom"/>
    <meta property="article:published_time" content="{{ iso8601Time (index .posts 0).CreatedAt }}">
    {{ if ne (index .posts 0).CreatedAt (index .posts 0).UpdatedAt }}
        <meta property="article:modified_time" content="{{ iso8601Time (index .posts 0).UpdatedAt }}">
    {{ end }}
    <meta property="article:author" content="{{ .settings.URL}}users/{{ (index .posts 0).User.ID }}">
    <meta property="author" content="{{ (index .posts 0).User.Name }}">
    <meta property="og:description" content="{{ printf "%.160s" (index .posts 0).Content }}">
    <meta property="og:title" content="{{ (index .posts 0).Subject }}">
    <meta property="og:site_name" content="{{ .settings.Name }}">
    <meta property="og:locale" content="{{ .settings.Lang }}">
    <meta property="og:type" content="website">
    <meta property="article:section" content="{{ .board.Name }}">
{{ end }}
{{ define "content"}}
    {{ template "forum_nav" .navigation }}
    <h1>{{ .topic.Post.Subject }}</h1>
    <table class="topic">
        <thead>
        <tr>
            <th>Author</th>
            <th>Topic</th>
        </tr>
        </thead>
        <tbody>
        {{ range .posts }}
            <tr id="{{ .ID }}">
                <td class="col-author">
                    <a href="/users/{{ .User.ID }}">{{ .User.Name }}</a>
                    <p>
                        {{ if .User.Picture }}
                            <img alt="{{ .User.PictureAlt }}" src="{{ proxyURL .User.Picture }}" width="80" height="80" style="object-fit: contain;"/>
                        {{ else }}
                            <svg class="not-selectable" width="80" height="80" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                                <rect width="80" height="80" fill="rgba(0, 0, 0, 40%)"/>
                                <text x="40" y="40" font-size="30" font-family="Sans-Serif" font-weight="bold" fill="#ffffff"
                                      text-anchor="middle" dominant-baseline="middle">{{ printf "%c" (index .User.Name 0) }}
                                </text>
                            </svg>
                        {{ end }}
                    </p>
                </td>
                <td>
                    <div class="posted">
                        <span>Posted on <time datetime="{{ iso8601Time .CreatedAt }}"
                                              title="{{ timeAgo .CreatedAt }}">{{ iso8601Time .CreatedAt }}</time></span>
                        {{ if and (eq $.topic.Post.ID .ID) $.logged.IsAdmin }}
                            <a href="/topics/{{ $.topic.ID }}/edit">edit</a> <a
                                    href="/posts/{{ .ID }}/remove">remove</a>
                        {{ else }}
                            {{ if or (hasPermission .User.Name) $.logged.IsAdmin }}
                                <a href="/posts/{{ .ID }}/edit">edit</a> <a href="/posts/{{ .ID }}/remove">remove</a>
                            {{ end }}
                        {{ end }}
                        <a href="#{{ .ID }}" class="anchor">#</a>
                        <hr/>
                    </div>
                    <div>{{ syntax .Content }}</div>
                    {{ if ne .CreatedAt .UpdatedAt }}
                        <div>
                            <p>
                                <i>Last edited on
                                    <time datetime="{{ iso8601Time .UpdatedAt }}"
                                          title="{{ timeAgo .UpdatedAt }}">{{ iso8601Time .UpdatedAt }}</time>
                                </i>
                            </p>
                        </div>
                    {{ end }}
                    {{ if .User.About }}
                        <div class="signature">
                            {{ sig .User.About }}
                        </div>
                    {{ end }}
                </td>
            </tr>
        {{ end }}
        </tbody>
    </table>
    {{ if .board.Forum.IsLocked }}
        <p>This forum is locked.</p>
    {{ end }}
    {{ if .board.IsLocked }}
        <p>This board is locked.</p>
    {{ end }}
    {{ if .topic.IsLocked }}
        <p>This topic is locked.</p>
    {{ end }}
    {{ if logged }}
        {{ if or (and (not .topic.IsLocked) (not .board.IsLocked) (not .board.Forum.IsLocked)) .logged.IsAdmin }}
            <section style="margin-top: 1em;">
                {{ if .errorMessage }}
                    <p class="errors">{{ .errorMessage }}</p>
                {{ end }}
                <form action="/posts/save" method="post">
                    {{ .csrfField }}
                    <input type="hidden" name="topicId" value="{{ .topic.ID }}">
                    <input type="hidden" name="boardId" value="{{ .board.ID }}">
                    <input type="hidden" name="subject" value="Re: {{ .topic.Post.Subject }}">
                    <div class="field">
                        <label for="content">Reply to this topic</label>
                        <textarea name="content" id="content" style="height: 150px;"></textarea>
                    </div>
                    <input type="submit" value="Reply">
                </form>
            </section>
        {{ end }}
    {{ end }}
{{ end }}
`,
}
